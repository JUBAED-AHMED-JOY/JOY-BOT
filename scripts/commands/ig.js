const axios = require("axios");
const fs = require("fs-extra");
const request = require("request");

module.exports.config = {
  name: `${global.config.PREFIX}`,
  version: "1.0.0", 
  permission: 0,
  credits: "Joy",
  description: "Random ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶õ‡¶¨‡¶ø ‡¶∏‡¶π ‡¶™‡ßç‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßç‡¶∏ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü", 
  prefix: true,
  category: "user",
  usages: "",
  cooldowns: 5, 
  dependencies: {
	}
};

module.exports.run = async function ({ api, event }) {
  try {
    const textArray = [
      "‚Ä¢‚Äî¬ª‚ú®„Äåùóûùóúùó°ùóö_ùóùùó®ùóïùóîùóòùóó_ùóîùóõùó†ùóòùóó_ùóùùó¢ùó¨„Äç‚ú®¬´‚Äî‚Ä¢\n‡ºÜ-‚úøPrifix Event ‡ºä‡øê\n‚ï≠‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢‚ïÆ\n\n·≠Ñ‡øê-‡¶á‡¶ö‡ßç‡¶õ‡ßá!!!‡¶ó‡ßÅ‡¶≤‡ßã!!!‡¶Ø‡¶¶‡¶ø!!!‡¶™‡¶¨‡¶ø‡¶§‡ßç‡¶∞!!‡¶π‡ßü!‚úø·≠Ñ\n\n‚úø·≠Ñ‡¶§‡¶æ‡¶π‡¶≤‡ßá!!!‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶®!!!‡¶ó‡ßÅ‡¶≤‡ßã..üñ§ü•Ä\n\n‚úø·≠Ñ ‡øê- ‡¶è‡¶ï‡¶¶‡¶ø‡¶®!!!‡¶™‡ßÇ‡¶∞‡¶£!!!‡¶π‡¶¨‡ßá‡¶á!!! ‚úø·≠Ñ\n\n‚úø·≠Ñ‡øê‡¶á‡¶®‡¶∂‡¶æ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π..üñ§ü•Ä\n\n‚ï∞‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢‚ïØ\nùêÇùê´ùêûùêöùê≠ùê®ùê´ : ùó†ùóó ùóùùó®ùóïùóîùóòùóó ùóîùóõùó†ùóòùóó ùóùùó¢ùó¨",
      "‚Ä¢‚Äî¬ª‚ú®„Äåùóûùóúùó°ùóö_ùóùùó®ùóïùóîùóòùóó_ùóîùóõùó†ùóòùóó_ùóùùó¢ùó¨„Äç‚ú®¬´‚Äî‚Ä¢\n‡ºÜ-‚úøPrifix Event ‡ºä‡øê\n‚ï≠‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢‚ïÆ\n\nü¶ã ‡¶Æ‡¶ï‡ßç‡¶ï‡¶æ ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ß‡¶®‡ßç‡¶Ø üïã ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶®‡¶¨‡ßÄ (‡¶∏‡¶æ‡¶É) ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Æ üíõüôÜ\n\n‚ï∞‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢‚ïØ\nùêÇùê´ùêûùêöùê≠ùê®ùê´ : ùó†ùóó ùóùùó®ùóïùóîùóòùóó ùóîùóõùó†ùóòùóó ùóùùó¢ùó¨",
      "‚Ä¢‚Äî¬ª‚ú®„Äåùóûùóúùó°ùóö_ùóùùó®ùóïùóîùóòùóó_ùóîùóõùó†ùóòùóó_ùóùùó¢ùó¨„Äç‚ú®¬´‚Äî‚Ä¢\n‡ºÜ-‚úøPrifix Event ‡ºä‡øê\n‚ï≠‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢‚ïÆ\n\nüñ§ ‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú ‡¶õ‡¶æ‡ßú‡¶æ ‡¶Æ‡ßÅ‡¶∏‡¶≤‡¶ø‡¶Æ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶π‡ßÄ‡¶®!! ‚ù•‡ºÖ‡ºé\n\n‚ï∞‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢‚ïØ\nùêÇùê´ùêûùêöùê≠ùê®ùê´ : ùó†ùóó ùóùùó®ùóïùóîùóòùóó ùóîùóõùó†ùóòùóó ùóùùó¢ùó¨",
      "‚Ä¢‚Äî¬ª‚ú®„Äåùóûùóúùó°ùóö_ùóùùó®ùóïùóîùóòùóó_ùóîùóõùó†ùóòùóó_ùóùùó¢ùó¨„Äç‚ú®¬´‚Äî‚Ä¢\n‡ºÜ-‚úøPrifix Event ‡ºä‡øê\n‚ï≠‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢‚ïÆ\n\nüñ§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∂‡ßã‡¶ß ‡¶®‡ßü, ‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶á ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶Ü‡¶¶‡¶∞‡ßç‡¶∂ ‚ù§Ô∏èü•∞\n\n‚ï∞‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢‚ïØ\nùêÇùê´ùêûùêöùê≠ùê®ùê´ : ùó†ùóó ùóùùó®ùóïùóîùóòùóó ùóîùóõùó†ùóòùóó ùóùùó¢ùó¨"
    ];

    const imageArray = [
      "https://i.postimg.cc/ZR0SLZyy/received-104854222681538.jpg",
      "https://i.postimg.cc/CM3RdrW4/received-1077131053254543.jpg",
      "https://i.postimg.cc/mhWWRHpQ/received-1202913210365646.jpg",
      "https://i.postimg.cc/yxZCwPj1/received-179416495132916.jpg",
      "https://i.postimg.cc/8kJFpgn5/received-201956602842877.jpg",
      "https://i.postimg.cc/8c2N53cf/received-2183981171798286.jpg",
      "https://i.postimg.cc/6QWwyCWc/received-259795433354586.jpg",
      "https://i.postimg.cc/JzWRC9S9/received-317063074088232.jpg",
      "https://i.postimg.cc/5tsJvjjV/received-583147497311518.jpg",
      "https://i.postimg.cc/7ZMwHKkb/received-598373762409967.jpg"
    ];

    const text = textArray[Math.floor(Math.random() * textArray.length)];
    const imageUrl = imageArray[Math.floor(Math.random() * imageArray.length)];
    const cachePath = __dirname + "/cache_ig.jpg";

    // ‡¶á‡¶Æ‡ßá‡¶ú ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßã
    request(imageUrl)
      .pipe(fs.createWriteStream(cachePath))
      .on("close", () => {
        api.sendMessage(
          {
            body: text,
            attachment: fs.createReadStream(cachePath)
          },
          event.threadID,
          () => fs.unlinkSync(cachePath)
        );
      });
  } catch (err) {
    console.log(err);
    api.sendMessage("‚ö†Ô∏è ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá, ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßã!", event.threadID);
  }
};
